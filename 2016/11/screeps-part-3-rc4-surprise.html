<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="/assets/512.png" />
    <title>Adam Laycock :: Screeps Part 3 – RC4 & a Surprise</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/font-awesome/css/all.min.css" />
    <meta property="og:title" content="Adam Laycock / Screeps Part 3 – RC4 & a Surprise" />
    <meta
      property="og:description"
      content="RC4 brings some more improvements and I start looking for a war."
    />
    <meta property="og:image" content="https://alaycock.co.uk/assets/og-image.png" />
  </head>
  <body>
    <div class="grid grid-cols-1 lg:grid-cols-layout gap-4">
      <div
        class="bg-white border-gray-200 border shadow-xl p-2 mt-4 mx-4 lg:col-start-2 lg:mx-0 text-center lg:text-left"
      >
        <img
          src="/assets/profile.jpg"
          alt="Adam Laycock"
          class="lg:m-auto w-32 float-left lg:float-none lg:w-full mr-4"
        />
        <h2 class="font-light text-2xl">Adam Laycock</h2>
        <h3 class="font-light text-lg">EdTech Network Manager & Developer</h3>

        <div class="grid grid-cols-3 gap-2 text-center mt-4">
          <a
            href="/"
            class="bg-gray-200 p-2 shadow border border-gray-300 hover:shadow-none"
            >Home</a
          >
          <a
            href="/blog/"
            class="bg-gray-200 p-2 shadow border border-gray-300 hover:shadow-none"
            >Posts</a
          >
          <a
            href="/talks/"
            class="bg-gray-200 p-2 shadow border border-gray-300 hover:shadow-none"
            >Talks</a
          >
          <a
            href="/about/"
            class="bg-gray-200 p-2 shadow border border-gray-300 hover:shadow-none"
            >About</a
          >
          <a
            href="/cv/"
            class="bg-gray-200 p-2 shadow border border-gray-300 hover:shadow-none"
            >CV</a
          >
          <a
            href="/uses/"
            class="bg-gray-200 p-2 shadow border border-gray-300 hover:shadow-none"
            >Uses</a
          >
          <a
            href="/contact/"
            class="bg-gray-200 p-2 shadow border border-gray-300 hover:shadow-none"
            >Contact</a
          >
        </div>
      </div>
      <div class="lg:row-span-2">
        <section class="p-4 lg:pb-0 lg:pl-0"><div class="bg-white border-gray-300 border shadow-xl p-2 mb-4">
  <h1 class="font-light text-3xl border-b border-gray-200 mb-4">Screeps Part 3 – RC4 & a Surprise</h1>
  <ul class="flex gap-2">
    <li>21 November 2016</li>
    
      <li><a href="/tag/screeps">#screeps</a></li>
    
  </ul>
</div>
<div class="bg-white prose border-gray-300 border shadow-xl p-2"><p>This is part 3 of my Screeps story, you can read the whole story <a href="/tag/screeps">here</a>.</p>

<h2 id="format">Format</h2>

<p>Now that we are up to Screeps Part 3 I’m happy with the format these posts are going to take. For the next few weeks they will track with my RC level unless something big happens.</p>

<h2 id="rc4">RC4</h2>

<p>RC4 like the other levels adds more extensions to my pool. Like before I am going to drop all of them down and build them as soon as possible.
Updating Trucking</p>

<p>This construction highlighted a big issue with my trucking setup. Builders could drain my supply if they wanted to leaving no energy for my haulers to put into spawn &amp; extensions. This left me with a queue of creeps waiting to spawn. A quick patch was to limit them to containers with 5 times their carry capacity stored up so the haulers would have a chance to refill everything first.</p>

<p>The new extensions exposed an issue in my hauler code. They were not selecting extensions &amp; spawn first as I intended them to. I had to update the selection code so that extensions and spawn got energy first as my main priority is maintaining the number of creeps. The last thing I need no harvesters and queue of creeps waiting to spawn.</p>

<h2 id="harvesting-speed">Harvesting Speed</h2>

<p>I needed to address a harvesting speed issue that was beginning to hamper my growth. The plan is to haul more energy in from a neighboring room but that is going to take time to setup and won’t be a quick source of energy. I decided to further embrace my trucking and drop 2 carries from my harvesters in favor of 2 more works. Hopefully this will get my energy supply up higher.</p>

<p>These new harvesters can deplete the energy point before it regenerates. This is now the fastest I can gather energy for now.</p>

<h2 id="the-multi-tool">The multi-tool</h2>

<p>At the end of RC3 I added a new creep to work in other rooms. This multi-tool had very basic code that made it function like the tutorials builders. It was nearly done with its road and storage container and was going to need to be able to dump its collected resources into that storage container.</p>

<p>With a road and container in this other room and no tower to provide repairs the multi-tool is going to have to repair structures for now.</p>

<h2 id="the-ranger">The Ranger</h2>

<p>The other room I have quick access to is being reserved by another player. But they haven’t built up a supply of reservation ticks on the room controller. This gives me a chance to unreserve the room by stopping their claimers. To do this I need a new kind of creep, a Ranger.</p>

<p>Rangers are just <code class="language-plaintext highlighter-rouge">MOVE</code> and <code class="language-plaintext highlighter-rouge">RANGED_ATTACK</code> parts. They move to a room flagged as attack and once there move to engage any hostile creep. I now have the reservation on the room, with a large buffer built up.</p>

<p>Shortly after I attacked this players creep they sent a large creep into my main room. It was all HEAL and MOVE and it just sat in tower range trying to out heal the damage my tower was throwing at it, it lost. It does concern me, I didn’t destroy it quickly a few at once with attack parts might be able to lay down some damage before I could destroy them or even get my tower before it kills them all. Here in lies the scary &amp; amazing part of Screeps. It runs 24/7 this could all happen whilst I was asleep and my AI could heal everything back up, replace my creeps and get everything up again before I checked in.</p>

<p><img src="/assets/2016/11/screeps-part-3-rc4-surprise/reserved-rooms.png" alt="Reserved Rooms" /></p>

<h2 id="the-npc-menace">The NPC menace</h2>

<p>I had a very scary encounter with an NPC that highlighted a bug in my tower code.</p>

<p>An NPC spawned in the middle of my spawn area and began attacking creeps and structures. Herein lies the bug, my tower was healing everything and letting the creep live. You can queue multiple actions in a tick with only the last being executed. My tower was correctly seeing the hostile creep and queueing an attack. It was then seeing damage and queuing a repair.</p>

<p>The NPC severly damaged my creeps leaving haulers with no carry parts, harvesters with no work parts. I had to manually spawn a small hauler I could actually afford to begin restoring my energy supplies.</p>

<p>This only adds to my fear of the other player attacking.</p>

<h2 id="inter-room-hauling">Inter room hauling</h2>

<p>Now that my multi-tool is storing energy I need to bring it into my main room.</p>

<p>My Inter room hauler works something like this:</p>

<ul>
  <li>Am I hauling?</li>
  <li>Yes
    - Am I in the destination room?
    <ul>
      <li>Yes: Run the normal hauler code.</li>
      <li>No: Move to destination room.</li>
    </ul>
  </li>
  <li>No
    - Am I in my collection room?
    <ul>
      <li>Yes: Go to container and collect.</li>
      <li>No: Move to collection Room.</li>
    </ul>
  </li>
</ul>

<p>Pretty simple but it has now essentially added a 3rd harvesting point to my main room.
Preparing for War</p>

<p>I am beginning to fear attack from the north. They have a claimed room touching my reserved one with a large exit into it.</p>

<h2 id="defeat">Defeat</h2>

<p>So The war I wanted to prepare for came whilst I was enjoying movie night. 30 Minutes later it was over and I was out of the game.</p>

<p><img src="/assets/2016/11/screeps-part-3-rc4-surprise/defeat.png" alt="Defeated" /></p>

<p>Screeps has an article on this (<a href="http://support.screeps.com/hc/en-us/articles/203390711-Birth-and-death">here</a>) which explains that it’s now my job to rebuild somewhere else. Which is exactly what I plan to do. See you in Part 4.</p>

<h2 id="get-screeps">Get Screeps</h2>

<p>You can follow my progress on <a href="https://screeps.com/a/#!/profile/Arcath">my profile</a>. Once I reach RC4 I’m not sure how I am going to progress yet.</p>

<p>You can read more about Screeps on their <a href="https://screeps.com/">site</a>. I purchased it through steam giving me the permanent 10 CPU and the desktop client.</p>

<p>You can see my code as it was at the end of this post <a href="https://github.com/Arcath/screeps-code/commit/f0841553f1a391a00fd42331d791c2af303978ec">here</a>.</p>
</div></section>
        <footer class="mt-4 px-4 lg:px-0">
          &copy; Adam Laycock 2025
        </footer>
      </div>
    </div>
  </body>
</html>
